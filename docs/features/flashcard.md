# 單字卡組件 (Flashcard Component)

## 功能介紹

單字卡組件是可重用的單字顯示組件，提供翻轉動畫和完整的單字資訊展示功能。本功能模組涵蓋了單字卡的視覺呈現、互動操作（翻轉、語音播放）以及狀態顯示等核心功能。單字卡正面顯示單字、IPA 音標和音節標示，背面顯示中文定義、例句和詞源分析。組件支援多種使用場景（預覽模式、編輯模式、學習模式），並提供語音播放功能，增強學習體驗。

## UX 路徑

### UX0029: 查看單字卡正面

**觸發條件**：單字卡組件載入完成，預設顯示正面

**操作步驟**：
1. 單字卡組件載入
2. 系統顯示單字卡正面
3. 使用者查看正面內容

**預期結果**：
- 單字卡正面顯示單字（大字體）
- 如果單字卡有圖片，在單字上方顯示圖片（圓角、適當大小）
- 顯示 IPA 音標（例如：/kəmˈpjuːtər/）
- 顯示音節標示（含重音節標記）
- 顯示「點擊翻卡」提示
- 如果單字卡正在產生（GENERATING 狀態），顯示狀態標記
- 正面有適當的視覺設計（漸層背景、裝飾元素等）

---

### UX0030: 翻轉單字卡查看背面

**觸發條件**：使用者在查看單字卡正面

**操作步驟**：
1. 使用者在查看單字卡正面
2. 點擊單字卡（或翻轉按鈕）
3. 單字卡執行翻轉動畫
4. 顯示單字卡背面內容

**預期結果**：
- 點擊單字卡後觸發翻轉動畫（3D 翻轉效果）
- 動畫流暢自然（約 700ms）
- 翻轉後顯示背面內容
- 背面顯示單字（標題）
- 背面顯示音節拆解和 IPA
- 背面顯示中文定義（突出顯示）
- 背面顯示詞源分析（如果有）
- 背面顯示例句（英文和中文翻譯）
- 背面內容可以滾動查看（如果內容較長）
- 再次點擊可以翻轉回正面

---

### UX0031: 查看單字分析資訊

**觸發條件**：使用者在查看單字卡（正面或背面）

**操作步驟**：
1. 使用者在查看單字卡
2. 查看單字卡上顯示的各種分析資訊
3. 可以翻轉卡片查看不同資訊

**預期結果**：
- 正面顯示：
  - 單字圖片（如果有，顯示在單字上方）
  - 單字（大字體，易於閱讀）
  - IPA 音標（音標格式）
  - 音節標示（可選，含重音節標記）
- 背面顯示：
  - 單字標題
  - 音節拆解（視覺化標示，重音節有特殊標記）
  - IPA 音標
  - 中文定義（突出顯示，黃色背景）
  - 詞源分析（如果有，顯示前綴/詞根/後綴）
  - 例句（英文和中文翻譯，分開顯示）
- 所有資訊正確顯示，格式清晰易讀
- 如果單字卡正在產生，顯示載入狀態
- 圖片載入失敗時自動隱藏，不影響其他內容顯示

---

## 程式碼位置

- 組件：`components/FlashcardComponent.tsx`
- 型別定義：`types.ts` (Flashcard, WordAnalysis, CardStatus)

## UI 元素

- 正面：單字圖片（如果有）、單字、IPA、音節標示（含重音節標記）
- 背面：定義、例句、詞源分析
- 翻轉動畫
- 狀態顯示（正在產生）
- 語音播放按鈕（如果啟用）
- 音節顯示/隱藏切換（如果啟用）

## 關鍵功能

- 單字卡翻轉動畫
- 顯示單字圖片（正面，如果存在）
- 顯示單字分析資訊（音節、重音節標記、詞源、例句）
- 狀態顯示（GENERATING, UPDATING）
- 語音播放功能（如果提供 voice prop）
- 預覽模式支援（isPreview prop）
- 編輯模式支援（allowEdit prop）
- 統一的單字卡設計（字庫管理和學習模式使用相同組件）

